<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="Resource-type" content="Document" />
  <link rel="stylesheet" type="text/css" href="fullpage.min.css" />
  <script type="text/javascript" src="fullpage.min.js"></script>
  <link rel="stylesheet" type="text/css" href="bootstrap.min.css" />
  <script type="text/javascript" src="bootstrap.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>
  <div id="fullpage">
    <div class="section">
      <div class="container">
        <h1>Algoritmo de euclides</h1>
        <div class="row">
          <div class="col-md-12">
            <h2>Cálculo de M.C.D. con el algoritmo de Euclides</h2>
          </div>
          <div class="col-md-6">
            <div class="form-group">
              <label>1er número:</label>
              <input id="inputNumber1" class="form-control" min="1" type="number">
            </div>
            <div class="form-group">
              <label>2do número:</label>
              <input id="inputNumber2" class="form-control" min="1" type="number">
            </div>
            
            <button type="button" class="btn btn-primary" id="calcularEuclides">calcular</button>
          </div>
          <div class="col-md-6">
            <div id="rMcd"></div>
            <div id="rMcm"></div> 
          </div>
          
        </div>
      </div>
    </div>
    <div class="section">
      <div class="container">
        <div class="slide" id="slide1" data-anchor="slide1">
          <h1>Algoritmo de dikjstra</h1>
          
        </div>
        
        <div class="slide" id="slide2" data-anchor="slide2">
          <h1>Ejemplo 1</h1>
          <canvas id="myCanvas" width="900" height="700"></canvas>
        </div>
        
        <div class="slide" id="slide3" data-anchor="slide3">
          <h1>Ejemplo 2</h1>
          <canvas id="myCanvas2" width="900" height="700"></canvas>
        </div>	
        <div class="slide" id="slide3" data-anchor="slide3">
          <h1>Ejemplo 3</h1>
          <canvas id="myCanvas3" width="900" height="700"></canvas>
        </div>
        <div class="slide" id="slide3" data-anchor="slide3">
          <h1>Ejemplo 4</h1>
          <canvas id="myCanvas4" width="900" height="700"></canvas>
        </div>
      </div>
    </div>
    
  </div>
  
  
</body>
</html>
<script>
  
  var myFullpage = new fullpage('#fullpage', {
    sectionsColor: ['#f2f2f2', '#4BBFC3', '#7BAABE', 'whitesmoke', '#ccddff'],
    slidesNavigation: true,
  });

  /* algoritmo de euclides */
  $(document).ready(function(){
    $("#calcularEuclides").click(function(){
      let iN1 = $("#inputNumber1").val();
      let iN2 = $("#inputNumber2").val();
      if(iN1 == "" || iN2 == ""){
        $("#rMcd").text("Debes ingresar los dos números");
      }else{
        $("#rMcd").text("Máximo común divisor (M.C.D.): "+EuclidesMCD(iN1, iN2));
        $("#rMcm").text("Mínimo común múltiplo (M.C.M.): "+EuclidesMCM(iN1, iN2));
      }
    })
  });
  
  function EuclidesMCD(a, b) {
    var iaux; 
    a = Math.abs(a); 
    b = Math.abs(b);
    var i1 = Math.max(a, b); 
    var i2 = Math.min(a, b); 
    
    do {
      iaux = i2; 
      i2 = i1 % i2; 
      i1 = iaux;
    } while (i2 !== 0);
    return i1; 
  }
  
  function EuclidesMCM( a,  b)
  {
    return (a / EuclidesMCD(a, b)) * b;
  }
  
  let graph = {
    I: { A: 2, D: 1, C: 3, B: 2 },
    A: { I: 2, B: 5, E: 7, H: 8 },
    B: { A: 5, I: 2, E: 6, G: 1, C: 8 },
    C: { I: 3, B: 8, D: 6, G: 5, E: 3},
    D: { I: 1, C: 5, G: 3, J: 2 },
    E: { A: 7, B: 6, C: 3, G: 1, J: 3, H: 6},
    G: { B: 1, E: 1, C: 5, D: 3, J: 1, H: 2},
    H: { A: 8, E: 6, G: 2, J: 5, K: 2, F: 6},
    J: { H: 5, E: 3, G: 1, K: 1, F: 2, D: 2},
    K: { H: 2, J: 1, F: 3},
    F: { H: 6, K: 3, J: 2},
  };
  
  let shortestDistanceNode = (distances, visited) => {
    let shortest = null;
    for (let node in distances) {
      let currentIsShortest =
      shortest === null || distances[node] < distances[shortest];
      
      if (currentIsShortest && !visited.includes(node)) {
        shortest = node;
      }
    }
    return shortest;
  };
  
  let findShortestPath = (graph, startNode, endNode) => {
    
    let distances = {};
    distances[endNode] = "Infinity";
    distances = Object.assign(distances, graph[startNode]);
    let parents = { endNode: null };
    for (let child in graph[startNode]) {
      parents[child] = startNode;
    }
    
    let visited = [];
    let node = shortestDistanceNode(distances, visited);
    
    while (node) {
      let distance = distances[node];
      let children = graph[node]; 
      
      for (let child in children) {
        if (String(child) === String(startNode)) {
          continue;
        } else {
          let newdistance = distance + children[child];
          if (!distances[child] || distances[child] > newdistance) {
            distances[child] = newdistance;
            parents[child] = node;
          } 
        }
      } 
      visited.push(node);
      node = shortestDistanceNode(distances, visited);
    }

    let shortestPath = [endNode];
    let parent = parents[endNode];
    while (parent) {
      shortestPath.push(parent);
      parent = parents[parent];
    }
    shortestPath.reverse();
      
    const results = {
      distance: distances[endNode],
      path: shortestPath
    };
    
    return results;
  };
  
  /* dibujo */
  var canvas = document.getElementById('myCanvas');
  var context = canvas.getContext('2d');
  
  function Circle(I) {
    I.radius = 20;
    
    I.draw = function() {
      context.beginPath();
      context.arc(I.x, I.y, I.radius, 0, 2 * Math.PI, false);
      context.fillStyle = 'white';
      context.fill();
      context.lineWidth = 2;
      context.strokeStyle = '#003300';
      context.stroke();
      context.font = '15pt Calibri';
      context.fillStyle = 'black';
      context.textAlign = 'center';
      context.fillText(I.label, I.x, I.y);
    }
    
    return I;
  }
  
  function dibujarEjemplo1(){
    var circles = [];
    
    circles.push(Circle({ x: 100, y: 100, label: "I" }));
    circles.push(Circle({ x: 250, y: 200, label: "A" }));
    circles.push(Circle({ x: 400, y: 300, label: "B" }));
    circles.push(Circle({ x: 550, y: 400, label: "C" }));
    circles.push(Circle({ x: 700, y: 100, label: "D" }));
    circles.push(Circle({ x: 700, y: 100, label: "E" }));
    circles.push(Circle({ x: 700, y: 100, label: "G" }));
    circles.push(Circle({ x: 700, y: 100, label: "H" }));
    circles.push(Circle({ x: 700, y: 100, label: "I" }));
    circles.push(Circle({ x: 700, y: 100, label: "J" }));
    circles.push(Circle({ x: 700, y: 100, label: "K" }));
    circles.push(Circle({ x: 700, y: 100, label: "F" }));
    
    circles.forEach(function(circle, index) {
      circle.draw();
    });

    let posicionesEvaluar = [];
    canvas.addEventListener("click", function(e){
      const pos = {
        x: e.offsetX,
        y: e.offsetY
      };
      circles.forEach(circle => {
        if (isIntersect(pos, circle)) {
          console.log("evento de click", pos, circle);
          context.beginPath();
          context.arc(circle.x, circle.y, circle.radius, 0, 2 * Math.PI, false);
          context.fillStyle ='#003300';
          context.fill();
          console.log(findShortestPath(graph, "A", "K"));
        }
      }); 
    }, false);
  }
  
  function isIntersect(point, circle) {
    return Math.sqrt((point.x-circle.x) ** 2 + (point.y - circle.y) ** 2) < circle.radius;
  }
  
  
  
</script>

